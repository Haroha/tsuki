(function(){window.CIRQUAINFD=new function(){var e,t,n,r,i,a,s,l,o,u;return e=function(e){var t,n;return t=document.createElement("link"),t.rel="stylesheet",t.type="text/css",t.href="https://cas.adapf.com/style/"+e+".css",t.media="all","function"==typeof(n=document.getElementsByTagName("head")[0]).appendChild&&n.appendChild(t),!0},i=function(e,t){var n,r,i,s,l,o,c,d,m,g,h,p,f,y,b,v,_,w,E,N,C,R,k,q,A;for(o=function(e,t){var n;return n=parseInt(t.getAttribute("data-max-length")),!isNaN(n)&&n>0&&e.length>n?e.substr(0,n-1)+"â€¦":e},t.tag_template&&(e.innerHTML=t.tag_template),N=e.getElementsByClassName("cirqua-icon-img"),d=0,p=N.length;d<p;d++)s=N[d],"IMG"===s.tagName?s.src=t.image_url:(s.style.backgroundImage="url('"+t.image_url+"')",s.style.backgroundRepeat="no-repeat",s.style.backgroundPosition="center center",s.style.backgroundSize="cover");for(C=e.getElementsByClassName("cirqua-landing-url"),m=0,f=C.length;m<f;m++)n=C[m],"A"===n.tagName&&(n.href=t.landing_url,t.landing_url_target&&!n.target&&(n.target=t.landing_url_target));for(R=e.getElementsByClassName("cirqua-title"),g=0,y=R.length;g<y;g++)c=R[g],c.innerText=o(t.title,c);for(k=e.getElementsByClassName("cirqua-description"),h=0,b=k.length;h<b;h++)r=k[h],r.innerText=o(t.description,r);for(q=e.getElementsByClassName("cirqua-optout-text"),w=0,v=q.length;w<v;w++)l=q[w],"A"===l.tagName&&(l.href=t.optout_url,l.target="_blank");for(A=e.getElementsByClassName("cirqua-displayed-advertiser"),E=0,_=A.length;E<_;E++)i=A[E],i.innerText=t.displayed_advertiser;return e.style.display="block",u(t),a(t)},t=function(e){var t;return t=document.createElement("iframe"),t.setAttribute("scrolling","no"),t.setAttribute("noresize",""),t.setAttribute("frameborder","0"),t.setAttribute("allowtransparency","true"),t.style.display="block",t.style.width=e.width,t.style.height=e.height,t},r=function(e,n){var r;return r=t(n),e.appendChild(r),e.style.display="block",r.setAttribute("src",n.pb_url)},n=function(e,n){var r;return r=t(n),e.appendChild(r),e.style.display="block",r.contentDocument.write(n.ad_markup),r.contentDocument.body.style.margin="0",u(n),a(n)},l=function(){var t,a,s,l,o,u,c,d,m,g,h;for(o={},g=document.getElementsByClassName("cirqua-slot"),d=0,m=g.length;d<m;d++)t=g[d],t.hasAttribute("cirqua-slot-started")||(t.setAttribute("cirqua-slot-started","true"),u=null!=(h=t.getAttribute("data-slot-id"))?h.replace(/(^\s+)|(\s+$)/g,""):void 0,u&&u.length>0?(o[u]||(o[u]=[]),o[u].push(t)):"undefined"!=typeof console&&null!==console&&console.warn("data-slot-id required"));if(0!==Object.keys(o).length){c=new XMLHttpRequest,l={url:window.location.href,referer:document.referrer,slots:{}};for(s in o)a=o[s],l.slots[s]={count:a.length};return c.open("POST","https://cas.adapf.com/ad/v1"),c.withCredentials=!0,c.setRequestHeader("Content-Type","application/json"),c.onreadystatechange=function(){var t,s,l,u,d,m;if(c.readyState===c.DONE&&200===c.status){s=JSON.parse(c.responseText).ads,t={},m=[];for(u in o)a=o[u],m.push(function(){var o,c,m,g;for(g=[],d=o=0,c=a.length;o<c;d=++o)l=a[d],null!=(null!=(m=s[u])?m[d]:void 0)?(s[u][d].element=l,s[u][d].pb_url?g.push(r(l,s[u][d])):s[u][d].ad_markup?g.push(n(l,s[u][d])):(t[u]||(t[u]=e(u)),g.push(i(l,s[u][d])))):g.push(void 0);return g}());return m}},c.send(JSON.stringify(l))}},s=function(e,t){var n,r;if(!document.getElementById(t))return r=document.getElementById("cirqua-jssdk"),n=document.createElement("script"),n.id=t,n.src=e,r.parentNode.insertBefore(n,r.nextSibling)},u=function(e){try{return new IntersectionObserver(function(t){return t.forEach(function(t){if(e.intersectionRatio=t.intersectionRatio,e.intersectionRatioMax=Math.max(t.intersectionRatio,e.intersectionRatioMax||0),e.viewability=Math.floor(Math.max(0,Math.min(100*e.intersectionRatioMax,100))),e.intersectionTime=t.time,clearTimeout(e.intersectionWatcher),t.intersectionRatio>.5)return e.intersectionWatcher=setTimeout(function(e){return e.isViewable||o(e),e.isViewable=!0},1e3,e)})},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}).observe(e.element),e.viewability=0}catch(t){return e.viewability=-1}},a=function(e){var t,n,r,i,a,s;for(a=e.imp_url,s=[],r=0,i=a.length;r<i;r++)n=a[r],t=new Image,t.src=n+"&vw="+e.viewability,t.style.display="none",s.push(e.element.appendChild(t));return s},o=function(e){var t,n,r,i,a,s;for(a=e.view_imp_url,s=[],r=0,i=a.length;r<i;r++)n=a[r],t=new Image,t.src=n+"&vw="+e.viewability,t.style.display="none",s.push(e.element.appendChild(t));return s},this.run=function(){var e,t,n;return e=null!=(t=document.getElementById("cirqua-jssdk").src)&&"function"==typeof t.match&&null!=(n=t.match("id=(.{8})"))?n[1]:void 0,s("https://rs.adapf.com/redirect.js","redirect-js-id"),s("https://cas.adapf.com/sc?id="+e,"cirqua-sc-id"),/^interactive|complete$/.test(document.readyState)?l():(document.addEventListener("DOMContentLoaded",l),l())},this.run(),this}}).call(this);
//# sourceMappingURL=cirqua.min.js.map